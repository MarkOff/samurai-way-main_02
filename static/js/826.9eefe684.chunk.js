"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[826],{5826:function(e,t,s){s.r(t),s.d(t,{default:function(){return re}});var n=s(5671),r=s(3144),o=s(136),i=s(5716),a=s(2791),l=s(885),u="ProfileBlock_profileContainer__YhXOP",c="ProfileBlock_blockNameAndStatus__eM2jQ",d={status:"ProfileStatusWithHooks_status__lumN0"},h=s(184),f=function(e){var t=e.status,s=e.updateStatus,n=(0,a.useState)(!1),r=(0,l.Z)(n,2),o=r[0],i=r[1],u=(0,a.useState)(t),c=(0,l.Z)(u,2),f=c[0],p=c[1];(0,a.useEffect)((function(){p(t)}),[t]);var x=t?t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("b",{children:"Status:"})," ",t]}):"No status";return(0,h.jsxs)("div",{className:d.status,children:[!o&&(0,h.jsx)("div",{title:"On double click change status",children:(0,h.jsxs)("span",{onDoubleClick:function(){i(!0)},children:[" ",x," "]})}),o&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(e){p(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),s&&s(f)},className:d.statusInput,value:f,placeholder:"change you status",minLength:0,maxLength:30})})]})},p="Contacts_contacts__+FfTV",x=function(e){var t=e.contacts,s=Object.values(t).some((function(e){return null!==e&&""!==e}));return(0,h.jsx)(h.Fragment,{children:s&&(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("b",{children:"Contacts:"})," ",Object.keys(t).filter((function(e){var s=e;return void 0!==t[s]&&null!==t[s]&&""!==t[s]})).map((function(e){var s=e;return(0,h.jsx)(j,{contactKey:e,contactValue:t[s]},e)}))]})})},j=function(e){var t=e.contactValue,s=e.contactKey;return(0,h.jsx)("a",{href:t,children:s})},m=s(8011),v="StatusJob_statusJob__yVhUm",b=function(e){var t=e.lookingForAJob,s=e.lookingForAJobDescription,n=null!==s?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("b",{children:"Status Job: "}),s]}):null,r=t?"yes":"no",o=t&&(0,h.jsx)("div",{className:v,children:n});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)("b",{children:"Looking for a job: "})," ",r]}),o]})},g="AboutMe_aboutMe__LqVKo",P=function(e){var t=e.aboutMe,s=null!==t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("b",{children:"About me: "}),t]}):null;return(0,h.jsx)("div",{className:g,children:s})},_="FullName_FullName__gQNSE",k=function(e){var t=e.fullName;return(0,h.jsx)("div",{className:_,children:t})},N="MainAvatar_avatar__rY5vl",S="MainAvatar_inputPhoto__aGAv4",y="MainAvatar_labelPhoto__-46BW",F=s(9534),A=function(e){var t=e.profile,s=e.isOwner,n=e.savePhoto,r=null!==(null===t||void 0===t?void 0:t.photos.large)?null===t||void 0===t?void 0:t.photos.large:F,o=s&&(0,h.jsx)("input",{type:"file",onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&n&&n(e.target.files[0])},className:S});return(0,h.jsxs)("label",{className:s?y:"",children:[(0,h.jsx)("img",{className:N,alt:"Main avatar","aria-label":"updload photo",src:r}),o]})},M=function(e){var t=e.profile,s=e.isOwner,n=e.status,r=e.updateStatus,o=e.savePhoto,i=e.goToEditMode;return t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:u,children:[(0,h.jsx)(A,{profile:t,isOwner:s,savePhoto:o}),(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)(k,{fullName:t.fullName}),(0,h.jsx)(f,{updateStatus:r,status:n})]}),(0,h.jsx)(x,{contacts:t.contacts})]}),(0,h.jsxs)("div",{children:[s&&(0,h.jsx)("button",{onClick:i,children:"edit"}),"  "]}),(0,h.jsx)(P,{aboutMe:t.aboutMe}),(0,h.jsx)(b,{lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription})]}):(0,h.jsx)(m.p,{})},w=s(4254),O=s(3079),I=s(704),C="ProfileDataForm_formSummeryError__5IcDn",J=(0,I.Z)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,n=e.error;return(0,h.jsxs)("form",{onSubmit:t,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{children:"save"}),n&&(0,h.jsx)("div",{className:C,children:n})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Full Name: "})," ",(0,w.Gr)(w.II,"text","fullName","Enter you name",[O.C],null)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Contacts:"})," ",Object.keys(s.contacts).map((function(e){return(0,h.jsx)("div",{children:(0,h.jsxs)("b",{children:[e,": ",(0,w.Gr)(w.gx,"text","contacts."+e,null,null,null)]})},e)}))]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About me: "})," ",(0,w.Gr)(w.gx,"text","aboutMe","Write about yourself",null,null)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job: "})," ",(0,w.Gr)(w.II,"checkbox","lookingForAJob",null,null,null)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills: "})," ",(0,w.Gr)(w.gx,"text","lookingForAJobDescription","Enter you skills",null,null)]})]})})),L=function(e){var t=e.profile,s=e.saveProfile,n=e.savePhoto,r=e.updateStatus,o=e.status,i=e.isOwner,u=(0,a.useState)(!1),c=(0,l.Z)(u,2),d=c[0],f=c[1];return t?(0,h.jsx)(h.Fragment,{children:d?(0,h.jsx)(J,{initialValues:t,profile:t,onSubmit:function(e){s(e).then((function(e){e&&f(!1)}))}}):(0,h.jsx)(M,{profile:t,isOwner:i,status:o,updateStatus:r,savePhoto:n,goToEditMode:function(){f(!0)}})}):(0,h.jsx)(m.p,{})},D=s(81),Z="MyPosts_postBlock__tQRVL",E="MyPosts_posts__IcSjH",B="Post_posts__OmU92",U=function(e){return(0,h.jsxs)("div",{className:B,children:[(0,h.jsx)("img",{src:"https://i.pinimg.com/736x/1e/33/a5/1e33a5fad800ee8e782ad87e63169187.jpg"}),e.message,(0,h.jsx)("div",{children:(0,h.jsxs)("span",{children:[" like ",e.counterLike]})})]})},V=s(6139),G=(0,O.D)(41),T=a.memo((function(e){return(0,h.jsxs)("form",{onSubmit:function(t){e.handleSubmit(t),e.reset()},children:[(0,h.jsx)("div",{children:(0,h.jsx)(V.Z,{name:"newPostTextBody",component:w.gx,minLength:0,maxLength:40,placeholder:"Enter you text",validate:[O.C,G]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),z=(0,I.Z)({form:"addPostForm",initialValues:{newPostTextBody:""}})(T),K=a.memo((function(e){var t=e.profilePost,s=e.addPost,n=t.map((function(e){return(0,h.jsx)(U,{id:e.id,message:e.message,counterLike:e.counterLike},e.id)}));return(0,h.jsxs)("div",{className:Z,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(z,{onSubmit:function(e){s(e.newPostTextBody)}}),(0,h.jsx)("div",{className:E,children:n})]})})),Q=s(364),W=function(e){return e.profilePage.posts},q=function(e){return e.profilePage.profile},H=function(e){return e.profilePage.status},R=function(e){return e.profilePage.isOwner},Y={addPost:D.Pi},$=(0,Q.$j)((function(e){return{profilePost:W(e)}}),Y)(K),X=function(e){var t=e.profile,s=e.saveProfile,n=e.savePhoto,r=e.updateStatus,o=e.status,i=e.isOwner;return(0,h.jsxs)("div",{children:[(0,h.jsx)(L,{profile:t,updateStatus:r,status:o,saveProfile:s,isOwner:i,savePhoto:n}),(0,h.jsx)($,{})]})},ee=s(9271),te=s(7781),se=s(8845),ne=function(e){(0,o.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;!e&&this.props.autorizedUserId&&((e=this.props.autorizedUserId)||this.props.history.push("/login")),this.props.setProfile(e),this.props.setUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props,t=e.profile,s=e.updateStatus,n=e.status,r=e.savePhoto,o=e.saveProfile;return(0,h.jsx)(X,{profile:t,savePhoto:r,updateStatus:s,status:n,isOwner:!this.props.match.params.userId,saveProfile:o})}}]),s}(a.Component),re=(0,te.qC)((0,Q.$j)((function(e){return{profile:q(e),status:H(e),autorizedUserId:(0,se.c7)(e),isAuth:(0,se.Jt)(e),isOwner:R(e)}}),{setProfile:D.RG,setUserStatus:D.ij,updateStatus:D.Nf,savePhoto:D.Ju,saveProfile:D.Ii}),ee.EN)(ne)}}]);
//# sourceMappingURL=826.9eefe684.chunk.js.map