"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[66],{7066:function(t,e,s){s.r(e),s.d(e,{default:function(){return K}});var n=s(5671),a=s(3144),o=s(136),i=s(5716),r=s(2791),u="ProfileInfo_profileContainer__bjKTK",c="ProfileInfo_avatar__kp82C",l="ProfileInfo_name__YaeQZ",d="ProfileInfo_aboutMe__QNVtQ",f="ProfileInfo_contacts__4b2Es",h="ProfileInfo_statusJob__p+lod",p="ProfileInfo_status__AaJPa",m=s(8011),x=s(9534),j=s(885),g=s(184),v=function(t){var e=t.status,s=t.updateStatus,n=(0,r.useState)(!1),a=(0,j.Z)(n,2),o=a[0],i=a[1],u=(0,r.useState)(e),c=(0,j.Z)(u,2),l=c[0],d=c[1];(0,r.useEffect)((function(){d(e)}),[e]);var f=e?e&&"status: ".concat(e):"No status";return(0,g.jsxs)("div",{children:[!o&&(0,g.jsx)("div",{children:(0,g.jsxs)("span",{onDoubleClick:function(){i(!0)},children:[" ",f," "]})}),o&&(0,g.jsx)("div",{children:(0,g.jsx)("input",{onChange:function(t){d(t.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),s(l)},value:l,placeholder:"change you status",minLength:0,maxLength:30})})]})},_=function(t){var e=t.profile,s=t.getStatus,n=t.setProfile,a=t.updateStatus,o=t.status,i=t.isAuth,r=t.autorizedUserId;if(!e)return(0,g.jsx)(m.p,{});var j=Object.values(e.contacts).some((function(t){return null!==t&&""!==t})),_=null!==e.aboutMe?"About me: ".concat(e.aboutMe):"",P=null!==e.lookingForAJobDescription?"Status Job:".concat(e.lookingForAJobDescription):"";return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("img",{className:c,src:null!==e.photos.large?e.photos.large:x}),(0,g.jsxs)("div",{className:l,children:[e.fullName,(0,g.jsx)("div",{className:p,children:(0,g.jsx)(v,{status:o,updateStatus:a,setProfile:n,profile:e,getStatus:s,autorizedUserId:r,isAuth:i})}),(0,g.jsx)("div",{className:d,children:_})]}),j&&(0,g.jsxs)("div",{className:f,children:[(0,g.jsx)("h3",{children:"My contacts: "}),e.contacts.github&&(0,g.jsx)("a",{href:e.contacts.github,children:"GitHub"}),e.contacts.vk&&(0,g.jsx)("a",{href:e.contacts.vk,children:"Vk"}),e.contacts.instagram&&(0,g.jsx)("a",{href:e.contacts.instagram,children:"instagram"}),e.contacts.facebook&&(0,g.jsx)("a",{href:e.contacts.facebook,children:"facebook"}),e.contacts.twitter&&(0,g.jsx)("a",{href:e.contacts.twitter,children:"twitter"}),e.contacts.mainLink&&(0,g.jsx)("a",{href:e.contacts.mainLink,children:"mainLink"}),e.contacts.youtube&&(0,g.jsx)("a",{href:e.contacts.youtube,children:"youtube"}),e.contacts.website&&(0,g.jsx)("a",{href:e.contacts.website,children:"website"})]})]}),(0,g.jsx)("span",{className:h,children:P})]})},P=s(81),b="MyPosts_postBlock__rzABo",k="MyPosts_posts__QI74t",S="Post_posts__YvArL",y=function(t){return(0,g.jsxs)("div",{className:S,children:[(0,g.jsx)("img",{src:"https://i.pinimg.com/736x/1e/33/a5/1e33a5fad800ee8e782ad87e63169187.jpg"}),t.message,(0,g.jsx)("div",{children:(0,g.jsxs)("span",{children:[" like ",t.counterLike]})})]})},I=s(6139),w=s(704),A=s(3079),N=s(4254),L=(0,A.D)(41),z=r.memo((function(t){return(0,g.jsxs)("form",{onSubmit:function(e){t.handleSubmit(e),t.reset()},children:[(0,g.jsx)("div",{children:(0,g.jsx)(I.Z,{name:"newPostTextBody",component:N.gx,minLength:0,maxLength:40,placeholder:"Enter you text",validate:[A.C,L]})}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{children:"Add post"})})]})})),C=(0,w.Z)({form:"addPostForm",initialValues:{newPostTextBody:""}})(z),U=r.memo((function(t){var e=t.profilePost,s=t.addPost,n=e.map((function(t){return(0,g.jsx)(y,{id:t.id,message:t.message,counterLike:t.counterLike},t.id)}));return(0,g.jsxs)("div",{className:b,children:[(0,g.jsx)("h3",{children:"My posts"}),(0,g.jsx)(C,{onSubmit:function(t){s(t.newPostTextBody)}}),(0,g.jsx)("div",{className:k,children:n})]})})),Z=s(364),M=function(t){return t.profilePage.posts},B=function(t){return t.profilePage.profile},J=function(t){return t.profilePage.status},D={addPost:P.Pi},Q=(0,Z.$j)((function(t){return{profilePost:M(t)}}),D)(U),T=function(t){var e=t.profile,s=t.setProfile,n=t.getStatus,a=t.updateStatus,o=t.status,i=t.isAuth,r=t.autorizedUserId;return(0,g.jsxs)("div",{children:[(0,g.jsx)(_,{profile:e,getStatus:n,setProfile:s,updateStatus:a,status:o,isAuth:i,autorizedUserId:r}),(0,g.jsx)(Q,{})]})},E=s(9271),F=s(7781),O=s(8845),V=function(t){(0,o.Z)(s,t);var e=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,a.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;!t&&this.props.autorizedUserId&&((t=this.props.autorizedUserId)||this.props.history.push("/login")),this.props.setProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){var t=this.props,e=t.profile,s=t.setProfile,n=t.getStatus,a=t.updateStatus,o=t.status,i=t.autorizedUserId,r=t.isAuth;return(0,g.jsx)(T,{profile:e,setProfile:s,getStatus:n,updateStatus:a,status:o,autorizedUserId:i,isAuth:r})}}]),s}(r.Component),G={setProfile:P.hO,getStatus:P.Qw,updateStatus:P.OG},K=(0,F.qC)((0,Z.$j)((function(t){return{profile:B(t),status:J(t),autorizedUserId:(0,O.c7)(t),isAuth:(0,O.Jt)(t)}}),G),E.EN)(V)}}]);
//# sourceMappingURL=66.efdd0318.chunk.js.map